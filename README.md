# devops-netology

## Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

1) Основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации уровня ОС заключается в первую очередь в архитектуре реализации данных подходов.
При использовании аппаратной виртуализации отсутствует хостовая ОС, то есть гипервизор взаимодействует напрямую с аппаратными средствами сервера. Паравиртуализация же использует
хостовую ОС, а гипервизор при данном подходе же осуществляет связь между ней и ВМ. При использовании виртуализация уровня ОС позволяет запускать виртуальные системы (контейнеры) 
на базовой ОС, при этом не используя гипервизор, т.е. хостовая операционная система отвечает за разделение аппаратных ресурсов.

2) Из следующих условий использования я бы выбрал следующие организации серверов:

* Высоконагруженная база данных, чувствительная к отказу - физические сервера. Разумеется, для небольших проектов, где используется не особо емкие в плане ресурсов базы данных (например, для микросервисной архитектуры)
можно использовать ту же паравиртуализацию, но если база высоконагруженная (особенно, если она business critical), то лучший вариант - это отдельный физический сервер БД.
Ко всему прочему, одним из преимуществ будет являться тот факт, что для такой базы данных будет критически важным являться фактор производительности, а при использовании аппаратной
виртуализации вычисления будут производиться напрямую к аппаратным средствам сервера, минуя дополнительный слой хостовой ОС.
* Различные web-приложения - виртуализация уровня ОС. Данный подход удобен, т.к возможна гибкая настройка и масштабирование (как горизонтальное, так и вертикальное) для экземпляров приложений.
То есть, мы можем, например, используя Docker и систем оркестрации задавать лимиты ресурсов контейнеров и регулировать количество контейнеров.
* Windows системы для использования бухгалтерским отделом - паравиртуализация. В данном случае аппаратная виртуализация вряд ли подойдет, т.к. каждому сотруднику нужно предоставить свое рабочее
место (виртуальную машину с Windows на борту) для каждого из которых необходимы свои настройки (к примеру, в зависимости от должности), плюс количество сотрудников может меняться постоянно, а значит, 
каждый раз создавать и удалять виртуальные машины при таком подходе будет довольно накладно. Ко всему прочему в данной ситуации у нас нет обязательного требования к доступу к аппаратной составляющей сервера.
В случае с паравиртуализацией гостевые ВМ можно разворачивать и удалять быстрее и эффективнее. И у нас при этом имеется полноценная ОС с ядром и выделенными ресурсами, в отличии от виртуализации уровня ОС.
Ко всему прочему, есть возможность расширения ресурсов на уровне виртуальной машины.
* Системы, выполняющие высокопроизводительные расчеты на GPU - физический сервер. Здесь примерно такая же ситуация, как из с высоконагруженной базой данных. Одним из первоочередных требований
в данной ситуации требуется высокая производительность и доступ к аппаратным ресурсам сервера (в данном случае GPU). Поэтому самый оптимальный вариант в данном случае - физический сервер.

3) Выбор следующих систем управления виртуализацией:

1. Hyper-V - если делать упор на Windows based инфраструктуру, то на мой взгляд лучше выбрать Hyper-V, т.к. она наиболее полно заточена под Windows-экосистему. Имеет поддержку программного балансировщика нагрузки, репликации данных (Hyper-V Replica) и автоматизированного создания снэпшотов.
2. KVM - Оптимальное и простое open source решение для создания бюджетных виртуальных сред. Высокая производительность и низкий порог входа для инженеров. Возможность использования различных ОС.
Ко всему прочему, в гипервизоре присутствует возможность изолировать гостевые ОС.
3. XEN - по сравнению с KVM, XEN PV и Windows более совместимы. Ко все му прочему, это open source проект с отличной производительностью и стабильностью работы.
4. KVM - Является open source проектом, лояльный к аппаратным ресурсам. Последние версии поддерживают различные ОС, а гипервизор KVM
поддерживает значительное количество гостевых ОС. На мой взгляд, KVM в данном случае подойдет лучше всего.

3) Основными недостатками гетерогенной виртуальной среды, т.е. среды, в которой может использоваться сразу несколько систем управления виртуализацией (то есть одновременно XEN и Hyper-V)
на мой взгляд это усложнение среды в целом, что может приводить в дальнейшем к серьезным ошибкам в работе, проблемы с совместимостью, накладные расходы на развитие и сопровождение каждой системы, необходимость
привлечения доп. персонала.
Как решение для минимизации рисков, наверное, наилучшее вариант на мой взгляд - это реализация возможности максимального упрощения управления инфраструктурой и снижение вероятности несовместимости технологий.
В целом, на мой взгляд, если нет острой необходимости, то лучше обходиться без создания гетерогенной системы, т.к. при грамотном применении современных систем виртуализации вполне возможно создать гибкую и эффективную
инфраструктуру без использования гетерогенных систем.